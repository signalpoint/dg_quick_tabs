dg.createModule("dg_quick_tabs"),dg._quick_tabs={},dg_quick_tabs.load=function(t){return dg._quick_tabs[t]?dg._quick_tabs[t]:null},dg_quick_tabs.save=function(t,e){return dg._quick_tabs[t]=e,dg._quick_tabs[t]},dg_quick_tabs.clear=function(){dg._quick_tabs={}},dg_quick_tabs.getTabs=function(t){return document.querySelectorAll("#"+t+" li")},dg_quick_tabs.forms={goToTab:function(t,e){var a=dg_quick_tabs.getTabs(t);dg_quick_tabs.forms.disableTabs(t,e);var d=a[e];d.classList.remove("disabled"),d.click()},disableTabs:function(t,e){for(var a=dg_quick_tabs.getTabs(t),d=e;d<a.length;d++)a[d].classList.add("disabled")}},dg.qtContainerId=function(t){return t.id||(t.id="quick-tabs-"+dg.salt()),t.id},dg.qtWrapperOpener=function(t){return dg_bootstrap&&t._attributes.class.push("form-group"),"<div "+dg.attrs(t)+">"},dg.qtLoadedBefore=function(t){var e=dg_quick_tabs.load(t);return!!e},dg.qtAddWrapperClass=function(t){t.class.push("quick-tabs-wrapper")},dg.qtGetReady=function(t,e){var a=null;if(dg.qtLoadedBefore(t))a=dg_quick_tabs.load(t),e=a;else{var d=dg.qtIsTabs(e);dg.qtAddWrapperClass(e._attributes),dg.attributesInit(e._tabs),e._tabs._attributes.class.push("quick-"+(d?"tabs":"select")),d||(dg_bootstrap&&e._tabs._attributes.class.push("form-control"),e._tabs._attributes.onchange="dg.qtSelectOnchange(this)",e._tabs._attributes["data-id"]=t),a=dg_quick_tabs.save(t,e)}return a},dg.qtRenderPane=function(t,e,a){var d=!!e._refresh;if(d||""==t.innerHTML){var s=e._panes(e,a);jDrupal.isPromise(s)?s.then(function(e){t.innerHTML=dg.render(e,!0)}):t.innerHTML=dg.render(s,!0)}},dg.qtInvokePreClick=function(t,e,a){t._preClick&&t._preClick(t,e,a)},dg.qtInvokePostClick=function(t,e,a){t._click&&t._click(t,e,a)},dg.qtGetPaneDiv=function(t,e){return dg.qs("#"+t+' div[data-quick-tabs-pane="'+e+'"]')},dg.qtHideAllSiblingPanes=function(t,e){for(var a=dg.qtGetSelect(t),d=0;d<a.options.length;d++)if(d!=e){var s=dg.qs("#"+t+' div[data-quick-tabs-pane="'+d+'"]');dg.addClass(s,"hidden")}},dg.qtPanesOpener=function(){return'<div class="quick-tabs-panes">'},dg.qtPanesEmptyAndHidden=function(t){var e="",a=0;if(dg.qtIsTabs(t))a=t._tabs._items.length;else for(var d in t._tabs._options)t._tabs._options.hasOwnProperty(d)&&a++;for(var s=0;s<a;s++)e+='<div class="quick-tabs-pane hidden" data-quick-tabs-pane="'+s+'"></div>';return e},dg.qtIsTabs=function(t){return!!t._tabs._items},dg.qtIsSelect=function(t){return!!t._tabs._options},dg.qtGetSelect=function(t){return dg.qs("#"+t+" select")},dg.qtGetDefaultDelta=function(t){return"undefined"==typeof t._delta&&(t._delta=0),t._delta},dg.theme_quick_select=function(t){var e=t._attributes,a=dg.qtContainerId(e),d=t._tabs;if(!d||!d._options)return"";t=dg.qtGetReady(a,t);var s=dg.qtGetDefaultDelta(t),n=dg.qtWrapperOpener(t);return n+=dg.theme("select",t._tabs),n+=dg.qtPanesOpener(),n+=dg.qtPanesEmptyAndHidden(t),setTimeout(function(){if(s>=0){var t=dg.qtGetSelect(a);t.selectedIndex=s}t.dispatchEvent(new Event("change",{bubbles:!0}))},1),n+"</div></div>"},dg.qtSelectOnchange=function(t){var e=t.getAttribute("data-id"),a=dg_quick_tabs.load(e),d=t.selectedIndex,s=t.options[d].value;""!=s&&(s=parseInt(s));var n=a._delta;dg.qtInvokePreClick(a,d,n),dg.qtHideAllSiblingPanes(e,d);var i=dg.qtGetPaneDiv(e,d);dg.qtRenderPane(i,a,d),dg.removeClass(i,"hidden"),dg.qtInvokePostClick(a,d,n),a._delta=d},dg.theme_quick_tabs=function(t){var e=t._attributes,a=dg.qtContainerId(e),d=t._tabs;if(!d||!d._items)return"";var s=dg_quick_tabs.load(a),n=dg.qtLoadedBefore(a);n?t=s:e.class.push("quick-tabs-wrapper");var i=dg.qtGetDefaultDelta(t),r=dg.qtWrapperOpener(t);return n||(dg.attributesInit(t._tabs),t._tabs._attributes.class.push("quick-tabs"),s=dg_quick_tabs.save(a,t)),r+=dg.theme("item_list",t._tabs),r+=dg.qtPanesOpener(),r+=dg.qtPanesEmptyAndHidden(t),setTimeout(function(){for(var t=document.querySelectorAll("#"+a+" .quick-tabs li"),e=0;e<t.length;e++){var d=t[e];d.addEventListener("click",function(e){var d=e.target,n=null,i=null;if("LI"!=d.tagName)if(e.path)for(var r=0;r<e.path.length;r++){var c=e.path[r];if("LI"==c.tagName){n=e.path[r+1],i=c;break}}else i=d.parentNode,n=i.parentNode;else e.path?(n=e.path[1],i=e.path[0]):(n=d.parentNode,i=d);if(i&&n&&!i.classList.contains("disabled")){var u=Array.prototype.indexOf.call(n.childNodes,i),l=s._delta;dg.qtInvokePreClick(s,u,l);for(var g=0;g<t.length;g++)dg.hasClass(t[g],"active")&&dg.removeClass(t[g],"active");dg.hasClass(t[u],"active")||dg.addClass(t[u],"active");for(var o=0;o<n.childNodes.length;o++)if(o!=u){var _="#"+a+' div[data-quick-tabs-pane="'+o+'"]',q=dg.qs(_);dg.addClass(q,"hidden")}var b=dg.qtGetPaneDiv(a,u);dg.qtRenderPane(b,s,u),dg.removeClass(b,"hidden"),dg.qtInvokePostClick(s,u,l),s._delta=u}})}t[i]&&t[i].click()},1),r+"</div></div>"};